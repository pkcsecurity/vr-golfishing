<!DOCTYPE html>
<html>
  <head>
    <title>Golfishing</title>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v6.0.0/dist/aframe-extras.loaders.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.0/dist/aframe-physics-system.min.js"></script>
    <!-- <script> -->
    <!--   function clickFish() { -->
    <!--     document.getElementById("laserHand").remove(); -->
    <!--     document.getElementById("pickupfish").remove(); -->

    <!--     let rightHand = document.createElement("a-entity"); -->
    <!--     rightHand.setAttribute("id", "rightHand"); -->
    <!--     rightHand.setAttribute("hand-controls", "right"); -->

    <!--     let fishHand = document.createElement("a-entity"); -->
    <!--     fishHand.setAttribute("id", "fishHand"); -->
    <!--     fishHand.setAttribute("gltf-model", "#fish"); -->
    <!--     fishHand.setAttribute("static-body", "shape: none;mass: 10"); -->
    <!--     fishHand.setAttribute( -->
    <!--       "shape__main", -->
    <!--       "shape: box;halfExtents: 1.5 1.5 4" -->
    <!--     ); -->
    <!--     fishHand.setAttribute("position", "-0.3 -0.03 -0.168"); -->
    <!--     fishHand.setAttribute("rotation", "0 -120 90"); -->
    <!--     fishHand.setAttribute("scale", "0.09 0.09 0.09"); -->

    <!--     rightHand.appendChild(fishHand); -->
    <!--     document.getElementById("controlHand").appendChild(rightHand); -->
    <!--   } -->
    <!-- </script> -->
  </head>

  <body>
    <a-scene physics="gravity: -7">
      <a-assets>
        <a-asset-item id="fish" src="/assets/low_poly_fish/scene.gltf" />
      </a-assets>

      <a-entity
        environment="preset: forest; skyColor: #222; horizonColor: #544; groundYScale: 2;
		     groundTexture: checkerboard; groundColor: #567d46; groundColor2: #58a045"
      ></a-entity>

      <a-entity position="0 0 0"> <a-camera></a-camera> </a-entity>

      <!-- <a-entity id="laserHand" laser-controls="hand: right"></a-entity> -->
      <a-entity id="rightHand" hand-controls="right">
        <a-entity
          id="fishHand"
          gltf-model="#fish"
          static-body="shape: none; mass: 10"
          shape__main="shape: box; halfExtents: 1.5 1.5 4"
          position="-0.3 -0.03 -0.168"
          rotation="0 -120 90"
          scale="0.09 0.09 0.09"
        ></a-entity>
      </a-entity>

      <!-- the pond -->
      <a-entity>
        <a-circle color="skyblue" position="-5 0.1 -6" radius="3" rotation="-90 0 0"></a-circle>
        <a-circle color="skyblue" position="-3 0.1 -8" radius="3" rotation="-90 0 0"></a-circle>
        <a-circle color="skyblue" position="-7 0.1 -6" radius="3" rotation="-90 0 0"></a-circle>
      </a-entity>

      <!-- the invisible ground for collision -->
      <a-box
        static-body
        width="100"
        height="0.1"
        depth="100"
        visible="false"
      ></a-box>

      <!-- the fish you're supposed to pick up -->
      <!-- <a-entity -->
      <!--   id="pickupfish" -->
      <!--   gltf-model="#fish" -->
      <!--   dynamic-body="shape: none;" -->
      <!--   shape__main="shape: box;halfExtents: 1.5 1.5 4" -->
      <!--   position="-1 1.5 -1" -->
      <!--   scale="0.09 0.09 0.09" -->
      <!--   onclick="clickFish()" -->
      <!-- ></a-entity> -->

      <!-- the golf ball -->
      <a-sphere
        dynamic-body="mass: 0.1; linearDamping: 0.005"
        color="#FFF"
        radius="0.15"
        position="0.4 2 -0.2"
      ></a-sphere>

      <!-- the golf tee -->
      <a-box
        static-body
        width="0.1"
        height="1"
        depth="0.1"
        position="0.4 0 -0.2"
        color="tomato"
      ></a-box>
      <!--     <a-cone static-body color="tomato" radius-bottom="0.01" radius-top="0.1" position="0 0 -3" open-ended="true"></a-cone> -->

      <a-light
        id="unanimated-light"
        type="point"
        intensity=".5"
        position="0 5 3"
      ></a-light>
    </a-scene>
  </body>
</html>
